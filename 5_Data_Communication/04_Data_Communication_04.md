# 데이터 통신 정리4[오류 제어, 검사, 회선 교환, 축적 교환]
## 오류의 발생 원인
- 감쇠 : **거리**에 따라서 전송 매체 통과 과정이 미약해짐.
- 지연 왜곡 : 전송 매체를 통해 여러 신호를 전파할 때 **부지기수한 주파수**에 따라서 속도가 달라짐.
- 상호 변조 잡음 : 서로 다른 주파수 간의 **합이나 차**로 인해 새로운 주파수가 생성되는 잡음.
- 누화 잡음(혼선) : 인접한 전송 매체의 **전자기적 상호 유도 작용**으로 인하여 생긴 잡음으로 전화 중에 다른 사람의 통화 내용도 들리는 현상과 같다.
- 충격성 잡음 : 전송 매체에 **외부적인 충격이나 기계적인 충격**에 의해 생기는 잡음.
- 시스템적 왜곡 : 전송 매체에 언제든지 일어날 수 있는 왜곡으로 손실, 감쇠, 신호와 감쇠 진폭에 따라 달라지는 하모닉 왜곡 등이 있다.

## 전송 오류 제어 방식
> ### 전진 오류 수정(`FEC`)
> - 재전송 요구 없이 수신 측에서 스스로 오류 검출과 수정을 함.
> - 역채널 그런 거 없고, 연속적인 데이터 흐름이 가능하다.
> - 데이터 비트 이외에 오류 검출 / 수정을 위한 비트도 추가되어 전송 효율은 그닥 안 좋다.
> - **해밍 코드, 상승 코드** 방식이 있다.

> ### 후진 오류 수정(`BEC`)
> - 데이터 전송 과정에서 오류가 발생하면 송신 측에 재전송을 요구하는 방식
> - **패리티 검사, CRC, Block Sum** 등을 사용해 오류 검출하고, 오류 제어에 대해서는 ARQ(자동 반복 요청)에 의해 이뤄진다.

## 자동 반복 요청(`ARQ`)
오류가 발생한다면 송신 측에 통보를 하고 송신 측에서는 오류 발생 블록을 재전송을 하는 모든 절차를 의미한다.
> ### Stop & Wait(정지-대기) ARQ
> - 송신 측에서 한 개의 블록을 전송하고 수신 측으로 부터 응답을 대기한다.
> - 구현 방법은 단순한데 전송 효율은 보장하지 못한다.

> ### Continuous(연속) ARQ
> - 연속적으로 데이터 블록을 보내는 방식.
> - Go-Back-N ARQ : 오류가 발생한 블록 이후 모든 블록을 재전송한다.
> - Selective Repeat ARQ : 오류가 발생한 블록**만** 재전송을 하는 방식으로 수신 측에서는 데이터 처리 전에 원래 순서대로 조립을 해야 되어 더 복잡한 버퍼가 필요하다.

> ### Adaptive(적응) ARQ
> - 데이터 블록 길이를 채널 상태에 따라 동적으로 변경하는 방식.
> - 제어 회로가 꽤 복잡해지고 비용도 많이 들어 거의 사용하지 않는다.

## 오류 검출 방식
오류 검출 방식은 크게 전진 오류 수정에서 해밍 코드, 상승 코드로 나뉘고 후진 오류 수정에서 패리티 검사, 순환 중복 검사(CRC)로 나뉘게 된다.

> ### 해밍 코드
> - 수신 측에서 오류가 발생한 비트를 검출 후 직접 수정하는 방식
> - 1비트의 오류만 수정이 가능해 정보 비트 이외에 잉여 비트도 필수.
> - 전송 비트 중 1, 2, 4, 8, 16... 2^n번째 비트를 오류 검출을 위한 패리티 비트로 적용.
> - 해밍 거리는 송신 비트와 수신 비트 중에서 **서로 다른 비트의 수**
> - 정정 가능한 최대 오류의 수로는 아래와 같이 계산이 된다.
>> dmin >= 2tc + 1 (dmin : 최소 해밍 거리, tc : 정정 가능 오류 수)

> ### 상승 코드
> - 순차적 디코딩과 한계값 디코딩을 사용해 오류를 수정하는데 여러 비트의 오류를 수정할 수 있다.

> ### 패리티 검사
> - 전송 비트에 1비트 검사 비트인 Parity Bit를 추가해 오류 검출.
> - 간단한 방식인데 2개의 비트에 동시에 오류가 발생하면 검출 불가.
> - 오류를 검출**만 할 수 있고**, 수정은 못 한다.
> - 홀수/짝수 수직 패리티 체크를 대부분 이용함.
> - 짝수 수직 패리티 검사를 블록 합(Block Sum) 검사라고도 한다.

> ### 순환 중복 검사(CRC)
> - 다항식 코드를 이용해 오류를 검출함.
> - **동기식 전송**에서 주로 사용한다.
> - HDLC 프레임에서 FCS를 만드는데 적용을 한다.
> - 집단 오류를 검출할 수 있고 검출률이 높아 많이 이용한다.

* * * 

## 회선 교환 방식
- 통신을 원하는 두 지점을 Router를 이용해 물리적으로 접속시키는 방식.
- 데이터 전송 전에 먼저 **물리적 통신 회선**을 통한 연결 필수.
- 접속이 되면 그 통신 회선은 전용 회선에 의한 통신처럼 데이터가 전달되고 이를 **고정 대역 전송**을 기반으로 이용한다.
- 접속에는 긴 시간은 소요 되지만 Router 내에서 전송 지연이 거의 없다 싶어서 실시간 전송에 무리가 없다.
- 데이터 전송에 필요한 전체 시간은 축적 시간보다는 길다.
- 데이터가 전송되지 않더라도 **접속이 유지되어 있기 때문에** 데이터 전송이 드문 경우에는 무용지물.
- 일정한 데이터 전송률을 제공하고 동일한 전송 속도 유지함.
- 전송 데이터의 오류 제어나 흐름 제어는 **사용자**에 의해 수행 된다.
- 데이터 전송 전에 미리 연결된 물리적 통신 회선을 통해 데이터가 순차적으로 전달이 되어 수신 Node에서 패킷을 재순서화 할 필요는 없다.
- 회선 교환의 방식은 크게 **공간 분할 교환 방식, 시분할 교환 방식** 2가지로 크게 나뉘게 된다.
- 참고로 통신 과정은 링크 설정 -> 데이터 전송 -> 링크 해제인 사실은 이미 인지하고 있을 것이다.

> ### 제어 신호 방식
> - 감시 제어 신호 : 상대방과 통화 할 시 필요한 자원을 이용할 수 있는가에 대해 결정하고 알리는 데 이용하는 신호.
> - 주소 제어 신호 : 상대방을 식별하고 경로를 배정하여 전화를 울리게 함.
> - 링크 제어 신호 : 신호음, 연결음, 통화중 등 호의 상태 정보를 송신자에게 제공하는 역할 수행.
> - 망 관리 제어 신호 : 통신망의 전체적인 운영, 유지, 고장 수리 etc를 위해 사용.

## 축적 교환 방식